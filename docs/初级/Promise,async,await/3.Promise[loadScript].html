<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script>
			/*
				用 promise 写一个 loadScript函数
			*/
		   
		   function loadScript(src){
			   return new Promise(function(resolve,reject){
				   let script = document.createElement('script');
				   script.src=src;
				   
				   script.onload=()=>resolve(script);
				   script.onerror=()=>reject(`${src} 脚本载入发生错误!`);
				   
				   document.head.append(script);
			   })
		   }
		   
		   let res = loadScript("https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js")
		   res.then(
			   success=>{
				   alert(`${success.src} 脚本载入成功`)
			   },
			   error => {
				   alert(`Error: ${error.message}`)
			   }
		   )

		</script>
	</body>
</html>